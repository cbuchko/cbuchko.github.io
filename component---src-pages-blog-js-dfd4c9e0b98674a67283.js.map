{"version":3,"file":"component---src-pages-blog-js-dfd4c9e0b98674a67283.js","mappings":"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","sources":["webpack://connors-website/./src/components/SearchBar.js","webpack://connors-website/./src/pages/blog.js","webpack://connors-website/./src/util/formatDate.js"],"sourcesContent":["import React from \"react\";\r\n\r\nexport default function SearchBar({\r\n    handleSearch,\r\n    placeholderText,\r\n    searchVal,\r\n    isSticky = false,\r\n}){\r\n    return (\r\n      <input\r\n        onChange={handleSearch}\r\n        placeholder={placeholderText}\r\n        value={searchVal}\r\n        data-default=\"\"\r\n        className={`blog-search roboto-mono normal ba br3 pa2 ${isSticky && \"sticky\"}`}\r\n      />\r\n    );\r\n  }","import React, { useState } from \"react\";\r\nimport { graphql } from \"gatsby\";\r\nimport Link from \"gatsby-link\";\r\nimport Img from \"gatsby-image\";\r\nimport \"../styles/tachyons.css\";\r\nimport \"../styles/blog.css\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport { useWindowSize } from \"../components/useWindowSize\";\r\nimport formatDate from \"../util/formatDate\";\r\n\r\nimport { TemplateWrapper } from \"../layouts/index\";\r\n\r\nconst FilterBlog = ({ filterColor, handleFilter }) => {\r\n  return (\r\n    <ul class=\"filter\">\r\n      <li\r\n        key=\"survivor\"\r\n        style={filterColor(\"survivor\")}\r\n        onMouseDown={() => handleFilter(\"survivor\")}\r\n        class=\"first-li\"\r\n      >\r\n        Survivor\r\n      </li>\r\n      <li\r\n        key=\"tv\"\r\n        style={filterColor(\"tv\")}\r\n        onMouseDown={() => handleFilter(\"tv\")}\r\n      >\r\n        TV Reviews\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\nconst BlogImage = (edge) => {\r\n  let featuredImgFluid =\r\n    edge.node.frontmatter.featuredImage.childImageSharp.fluid;\r\n  return (\r\n    <div class=\"blog-page-image flex w-50 pv5 justify-center items-center\">\r\n      <Img className=\"w-75 br3\" fluid={featuredImgFluid} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst BlogTitle = (edge) => {\r\n  return (\r\n    <div\r\n      name=\"header\"\r\n      class=\"blog-header f2 mt5 pa3 bg-lightest-blue br3 shadow-5\"\r\n    >\r\n      <div name=\"title\">{edge.node.frontmatter.title}</div>\r\n      <div name=\"date\" class=\"f5 mt1 mid-gray\">\r\n        {formatDate(edge.node.frontmatter.publishDate)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst BlogExcerpt = (edge, cutOff) => {\r\n  let excerpt = edge.node.excerpt;\r\n\r\n  if (cutOff < 1400 && cutOff > 500) {\r\n    excerpt = excerpt.slice(0, -65);\r\n    excerpt = excerpt + \"...\";\r\n  }\r\n  return (\r\n    <div name=\"excerpt\" class=\"blog-page-text f4 pv4 lh-large\">\r\n      {excerpt}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst BlogContainer = ({ slug, children }) => {\r\n  return (\r\n    <Link className=\"link blog-list\" to={`/${slug}`}>\r\n      <div className=\"pv4 bb-ns bw1-ns b--moon-gray\">\r\n        <div class=\"blog-container\">{children}</div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default function Blog({ data }) {\r\n  const windowSize = useWindowSize();\r\n  const mobile = windowSize < 900;\r\n  const [search, setSearch] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n\r\n  const handleSearch = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n  const handleFilter = (e) => {\r\n    console.log(e === filter);\r\n    e === filter ? setFilter(\"\") : setFilter(e);\r\n  };\r\n  const filteredBlogs = data.allMarkdownRemark.edges.filter(\r\n    (edge) =>\r\n      (`${edge.node.frontmatter.title} ${edge.node.excerpt}`\r\n        .toLowerCase()\r\n        .includes(search.toLowerCase()) ||\r\n        search === \"\") &&\r\n      (edge.node.frontmatter.category === filter || filter === \"\")\r\n  );\r\n  const blogList = filteredBlogs.map((edge, index) => {\r\n    const slug = edge.node.fields.slug;\r\n    if (mobile) {\r\n      return (\r\n        <BlogContainer slug={slug}>\r\n          {BlogTitle(edge)}\r\n          {BlogImage(edge)}\r\n          {BlogExcerpt(edge, windowSize)}\r\n        </BlogContainer>\r\n      );\r\n    }\r\n    if (index % 2) {\r\n      return (\r\n        <BlogContainer slug={slug}>\r\n          {BlogImage(edge)}\r\n          <div class=\"blog-content w-50\">\r\n            {BlogTitle(edge)}\r\n            {BlogExcerpt(edge, windowSize)}\r\n          </div>\r\n        </BlogContainer>\r\n      );\r\n    } else {\r\n      return (\r\n        <BlogContainer slug={slug}>\r\n          <div class=\"blog-content w-50\">\r\n            {BlogTitle(edge)}\r\n            {BlogExcerpt(edge, windowSize)}\r\n          </div>\r\n          {BlogImage(edge)}\r\n        </BlogContainer>\r\n      );\r\n    }\r\n  });\r\n\r\n  const filterColor = (filterType) =>\r\n    filterType === filter ? { color: \"#cdecff\", borderColor: \"black\" } : {};\r\n  return (\r\n    <TemplateWrapper>\r\n      <div class=\"f4 pt6 pb4 blogPage-header\">\r\n        <div class=\"blog-tagline\">\r\n          This is where I obsess about Survivor and have strong opinions on\r\n          shows that no one watches.\r\n        </div>\r\n        <div class=\"blog-tools f4 flex items-center mt4\">\r\n          <SearchBar\r\n            handleSearch={handleSearch}\r\n            placeholderText=\"search\"\r\n            searchVal={search}\r\n            isSticky={false}\r\n          />\r\n          <FilterBlog handleFilter={handleFilter} filterColor={filterColor} />\r\n        </div>\r\n      </div>\r\n      <div>{blogList}</div>\r\n    </TemplateWrapper>\r\n  );\r\n}\r\n\r\nexport const query = graphql`\r\n  query IndexQuery {\r\n    allMarkdownRemark(\r\n      sort: { order: DESC, fields: [fields___date] }\r\n      filter: { fileAbsolutePath: { regex: \"/[0-9]{4}-[0-9]{2}-[0-9]{2}-.*/\" } }\r\n    ) {\r\n      edges {\r\n        node {\r\n          id\r\n          excerpt(pruneLength: 230)\r\n          frontmatter {\r\n            title\r\n            category\r\n            publishDate\r\n            featuredImage {\r\n              childImageSharp {\r\n                fluid(maxWidth: 800) {\r\n                  ...GatsbyImageSharpFluid\r\n                }\r\n              }\r\n            }\r\n          }\r\n          fields {\r\n            slug\r\n            date\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","export default function formatDate(date) {\r\n    const yourDate = new Date(date)\r\n    return yourDate.toISOString().split('T')[0]\r\n}\r\n"],"names":["SearchBar","handleSearch","placeholderText","searchVal","isSticky","onChange","placeholder","value","className","FilterBlog","filterColor","handleFilter","class","key","style","onMouseDown","BlogImage","edge","featuredImgFluid","node","frontmatter","featuredImage","childImageSharp","fluid","BlogTitle","name","title","formatDate","publishDate","BlogExcerpt","cutOff","excerpt","slice","BlogContainer","slug","children","to","Blog","data","windowSize","useWindowSize","mobile","useState","search","setSearch","filter","setFilter","blogList","allMarkdownRemark","edges","toLowerCase","includes","category","map","index","fields","e","target","console","log","filterType","color","borderColor","date","Date","toISOString","split"],"sourceRoot":""}