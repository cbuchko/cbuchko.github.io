{"version":3,"file":"component---src-pages-blog-js-04f4f98c13bdd9c235ae.js","mappings":"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","sources":["webpack://connors-website/./src/components/SearchBar.js","webpack://connors-website/./src/pages/blog.js","webpack://connors-website/./src/util/formatDate.js"],"sourcesContent":["import React from \"react\";\r\n\r\nexport default function SearchBar({\r\n    handleSearch,\r\n    placeholderText,\r\n    searchVal,\r\n    isSticky = false,\r\n}){\r\n    return (\r\n      <input\r\n        onChange={handleSearch}\r\n        placeholder={placeholderText}\r\n        value={searchVal}\r\n        data-default=\"\"\r\n        className={`blog-search roboto-mono normal ba br3 pa2 ${isSticky && \"sticky\"}`}\r\n      />\r\n    );\r\n  }","import React, { useState } from \"react\";\r\nimport { graphql } from \"gatsby\";\r\nimport Link from \"gatsby-link\";\r\nimport Img from \"gatsby-image\";\r\nimport \"../styles/tachyons.css\";\r\nimport \"../styles/blog.css\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport { useWindowSize } from \"../components/useWindowSize\";\r\nimport formatDate from \"../util/formatDate\";\r\n\r\nimport { TemplateWrapper } from \"../layouts/index\";\r\n\r\nconst FilterBlog = ({ filterColor, handleFilter, mobile }) => {\r\n  return (\r\n    <ul class=\"filter\">\r\n      <li\r\n        key=\"survivor\"\r\n        style={filterColor(\"survivor\")}\r\n        onMouseDown={() => handleFilter(\"survivor\")}\r\n        class=\"first-li\"\r\n      >\r\n        Survivor\r\n      </li>\r\n      <li\r\n        key=\"tv\"\r\n        style={filterColor(\"tv\")}\r\n        onMouseDown={() => handleFilter(\"tv\")}\r\n      >\r\n        TV Reviews\r\n      </li>\r\n      <li\r\n        key=\"community\"\r\n        style={filterColor(\"community\")}\r\n        onMouseDown={() => handleFilter(\"community\")}\r\n      >\r\n        {mobile ? \"Writing\" : \"Creative Writing\"}\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\nconst BlogImage = (edge) => {\r\n  let featuredImgFluid =\r\n    edge.node.frontmatter.featuredImage.childImageSharp.fluid;\r\n  return (\r\n    <div class=\"blog-page-image flex w-50 pv5 justify-center items-center\">\r\n      <Img className=\"w-75 br3\" fluid={featuredImgFluid} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst BlogTitle = (edge) => {\r\n  return (\r\n    <div\r\n      name=\"header\"\r\n      class=\"blog-header f2 mt5 pa3 bg-lightest-blue br3 shadow-5\"\r\n    >\r\n      <div name=\"title\">{edge.node.frontmatter.title}</div>\r\n      <div name=\"date\" class=\"f5 mt1 mid-gray\">\r\n        {formatDate(edge.node.frontmatter.publishDate)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst BlogExcerpt = (edge) => {\r\n  return (\r\n    <div name=\"excerpt\" class=\"blog-page-text f4 pv4 lh-large\">\r\n      {edge.node.excerpt}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst BlogContainer = ({ slug, children }) => {\r\n  return (\r\n    <Link className=\"link\" to={`/${slug}`}>\r\n      <div className=\"pv4 bb-ns bw1-ns b--moon-gray\">\r\n        <div class=\"blog-container\">{children}</div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default function Blog({ data }) {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const mobile = useWindowSize();\r\n\r\n  const handleSearch = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n  const handleFilter = (e) => {\r\n    e === filter ? setFilter(\"\") : setFilter(e);\r\n  };\r\n  const filteredBlogs = data.allMarkdownRemark.edges.filter(\r\n    (edge) =>\r\n      (`${edge.node.frontmatter.title} ${edge.node.excerpt}`\r\n        .toLowerCase()\r\n        .includes(search.toLowerCase()) ||\r\n        search === \"\") &&\r\n      (edge.node.frontmatter.category === filter || filter === \"\")\r\n  );\r\n  const blogList = filteredBlogs.map((edge, index) => {\r\n    const slug = edge.node.fields.slug;\r\n    if (mobile) {\r\n      return (\r\n        <BlogContainer slug={slug}>\r\n          {BlogTitle(edge)}\r\n          {BlogImage(edge)}\r\n          {BlogExcerpt(edge)}\r\n        </BlogContainer>\r\n      );\r\n    }\r\n    if (index % 2) {\r\n      return (\r\n        <BlogContainer slug={slug}>\r\n          {BlogImage(edge)}\r\n          <div class=\"blog-content w-50\">\r\n            {BlogTitle(edge)}\r\n            {BlogExcerpt(edge)}\r\n          </div>\r\n        </BlogContainer>\r\n      );\r\n    } else {\r\n      return (\r\n        <BlogContainer slug={slug}>\r\n          <div class=\"blog-content w-50\">\r\n            {BlogTitle(edge)}\r\n            {BlogExcerpt(edge)}\r\n          </div>\r\n          {BlogImage(edge)}\r\n        </BlogContainer>\r\n      );\r\n    }\r\n  });\r\n\r\n  const filterColor = (filterType) =>\r\n    filterType === filter ? { color: \"#cdecff\", borderColor: \"black\" } : {};\r\n  return (\r\n    <TemplateWrapper>\r\n      <div class=\"f4 pt6 pb4 blogPage-header\">\r\n        <div class=\"blog-tagline\">\r\n          This is where I obsess about Survivor and have strong opinions on\r\n          shows that no one watches.\r\n        </div>\r\n        <div class=\"blog-tools f4 flex items-center mt4\">\r\n          <SearchBar\r\n            handleSearch={handleSearch}\r\n            placeholderText=\"search\"\r\n            searchVal={search}\r\n            isSticky={false}\r\n          />\r\n          <FilterBlog\r\n            handleFilter={handleFilter}\r\n            filterColor={filterColor}\r\n            mobile={mobile}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div>{blogList}</div>\r\n    </TemplateWrapper>\r\n  );\r\n}\r\n\r\nexport const query = graphql`\r\n  query IndexQuery {\r\n    allMarkdownRemark(\r\n      sort: { order: DESC, fields: [fields___date] }\r\n      filter: { fileAbsolutePath: { regex: \"/[0-9]{4}-[0-9]{2}-[0-9]{2}-.*/\" } }\r\n    ) {\r\n      edges {\r\n        node {\r\n          id\r\n          excerpt(pruneLength: 230)\r\n          frontmatter {\r\n            title\r\n            category\r\n            publishDate\r\n            featuredImage {\r\n              childImageSharp {\r\n                fluid(maxWidth: 800) {\r\n                  ...GatsbyImageSharpFluid\r\n                }\r\n              }\r\n            }\r\n          }\r\n          fields {\r\n            slug\r\n            date\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","export default function formatDate(date) {\r\n    const yourDate = new Date(date)\r\n    return yourDate.toISOString().split('T')[0]\r\n}\r\n"],"names":["SearchBar","handleSearch","placeholderText","searchVal","isSticky","onChange","placeholder","value","className","FilterBlog","filterColor","handleFilter","mobile","class","key","style","onMouseDown","BlogImage","edge","featuredImgFluid","node","frontmatter","featuredImage","childImageSharp","fluid","BlogTitle","name","title","formatDate","publishDate","BlogExcerpt","excerpt","BlogContainer","slug","children","to","Blog","data","useState","search","setSearch","filter","setFilter","useWindowSize","blogList","allMarkdownRemark","edges","toLowerCase","includes","category","map","index","fields","e","target","filterType","color","borderColor","date","Date","toISOString","split"],"sourceRoot":""}